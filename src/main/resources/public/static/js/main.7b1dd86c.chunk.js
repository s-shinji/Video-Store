(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{104:function(e,t,a){e.exports=a(239)},173:function(e,t,a){},174:function(e,t,a){},175:function(e,t,a){},176:function(e,t,a){},177:function(e,t,a){},178:function(e,t,a){},179:function(e,t,a){},180:function(e,t,a){},181:function(e,t,a){},182:function(e,t,a){},183:function(e,t,a){},239:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(54),s=a.n(o),c=a(16),i=a(6),l=a(101),u=a(18),m=a.n(u),p=a(2),d=a.n(p),h=a(5),v=a(19),f=a.n(v),b=function(e,t){return function(){var a=Object(h.a)(d.a.mark((function a(n){var r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f()("".concat("/KdiJ362","/user/").concat(e,"?loginUserId=").concat(t),{mode:"cors"}).then((function(e){return e.json()}));case 2:r=a.sent,n({type:"READ_USER",response:r});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(h.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new URLSearchParams).append("movieId",e[0]),n.append("loginUserId",e[1]),t.next=5,f()("".concat("/KdiJ362","/delete"),{mode:"cors",method:"POST",body:n});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=a(11),y=a(36),w=a(242),O=Object(c.c)({movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"READ_MOVIE_INDEX":return t.response;default:return e}},movie:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"READ_MOVIE_DETAIL":return t.response;case"POST_REVIEW":var a,n,r;if(t.response.good==e[3].good+1)return Object(y.a)({},e,(a={},Object(g.a)(a,2,"good"),Object(g.a)(a,3,t.response),a));if(t.response.normal==e[3].normal+1)return Object(y.a)({},e,(n={},Object(g.a)(n,2,"normal"),Object(g.a)(n,3,t.response),n));if(t.response.bad==e[3].bad+1)return Object(y.a)({},e,(r={},Object(g.a)(r,2,"bad"),Object(g.a)(r,3,t.response),r));default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST_PROFILE":case"READ_USER":return t.response;case"POST_FOLLOW":case"POST_UNFOLLOW":return Object(y.a)({},e,Object(g.a)({},3,t.response));default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_MOVIE":return t.response;default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":case"LOGOUT":return t.response;default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_REGISTRATION":return t.response;default:return e}},form:w.a}),N=(a(173),a(174),a(175),a(176),a(177),a(178),a(179),a(180),a(181),a(182),a(183),a(7)),j=a(10),k=function(){return console.log("top"),r.a.createElement("div",{className:"top"},r.a.createElement("h1",{className:"topPageH1"},"Video Store"),r.a.createElement("ul",{className:"topPageUl"},r.a.createElement("li",{className:"upper"},r.a.createElement(N.b,{to:"/index",className:"topList"},"\u4e00\u89a7\u30da\u30fc\u30b8")),r.a.createElement("li",{className:"lower"},r.a.createElement(N.b,{to:"/login",className:"topList"},"\u30ed\u30b0\u30a4\u30f3"),r.a.createElement(N.b,{to:"/RegistrationForm",className:"topList"},"\u65b0\u898f\u767b\u9332"))))},x=a(12),I=a(13),S=a(8),U=a(14),F=a(15),C=function(){return r.a.createElement("header",null,r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark fixed-top bg-dark"},r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarsExampleDefault"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement(N.b,{to:"/index",className:"nav-link home"},"\u30db\u30fc\u30e0 ",r.a.createElement("span",{className:"sr-only"},"(current)")))))))},M=a(241),L=a(240),T=function(e){Object(F.a)(a,e);var t=Object(U.a)(a);function a(e){var n;return Object(x.a)(this,a),(n=t.call(this,e)).onSubmit=n.onSubmit.bind(Object(S.a)(n)),n}return Object(I.a)(a,[{key:"onSubmit",value:function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.postLogin(t);case 2:if(0==this.props.loginUserId){e.next=5;break}return e.next=5,this.props.history.push("/index");case 5:0==this.props.loginUserId&&(document.getElementById("loginErrors").style.display="block");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"renderField",value:function(e){var t=e.input,a=e.type,n=e.id,o=e.className,s=e.placeholder,c=e.style,i=e.meta,l=i.touched,u=i.error;return r.a.createElement(r.a.Fragment,null,l&&u&&r.a.createElement("span",{style:{color:"red"}},u),r.a.createElement("input",Object.assign({type:a},t,{id:n,className:o,placeholder:s,style:c})))}},{key:"render",value:function(){var e=this.props,t=e.handleSubmit,a=e.pristine,n=e.submitting,o=e.invalid,s={marginBottom:"10px"};return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,null),r.a.createElement("form",{className:"form-signin",onSubmit:t(this.onSubmit)},r.a.createElement("h1",{className:"h3 mb-3 font-weight-normal",id:"loginTitle"},"\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u304f\u3060\u3055\u3044"),r.a.createElement("span",{id:"loginErrors",style:{color:"red",display:"none"}},"\u30e6\u30fc\u30b6\u30fc\u540d\u307e\u305f\u306f\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u9055\u3044\u307e\u3059"),r.a.createElement("label",{htmlFor:"inputName",className:"sr-only"},"\u30e6\u30fc\u30b6\u30fc\u540d"),r.a.createElement(M.a,{type:"text",id:"inputName user",name:"userName",className:"form-control",placeholder:"\u30e6\u30fc\u30b6\u30fc\u540d",style:s,component:this.renderField}),r.a.createElement("label",{htmlFor:"inputPassword",className:"sr-only"},"\u30d1\u30b9\u30ef\u30fc\u30c9"),r.a.createElement(M.a,{type:"password",id:"inputPassword password",name:"password",className:"form-control",placeholder:"\u30d1\u30b9\u30ef\u30fc\u30c9",style:s,component:this.renderField}),r.a.createElement("button",{className:"btn btn-lg btn-success btn-block",type:"submit",disabled:a||n||o},"\u30ed\u30b0\u30a4\u30f3"),r.a.createElement(N.b,{to:"/RegistrationForm",className:"btn btn-lg btn-success btn-block",type:"submit"},"\u65b0\u898f\u767b\u9332"),r.a.createElement("p",{className:"mt-5 mb-3 text-muted"},"\xa9 2020")))}}]),a}(n.Component),P={postLogin:function(e){return function(){var t=Object(h.a)(d.a.mark((function t(a){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new URLSearchParams).append("userName",e.userName),n.append("password",e.password),t.next=5,f()("/authenticate",{mode:"cors",method:"POST",credentials:"include",body:n});case 5:if("https://fierce-forest-67177.herokuapp.com/login-error"!=(r=t.sent).url){t.next=10;break}r=0,t.next=13;break;case 10:return t.next=12,f()("/authenticate",{mode:"cors",method:"POST",credentials:"include",body:n}).then((function(e){return e.json()}));case 12:r=t.sent;case 13:console.log(r),a({type:"LOGIN",response:r});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},B=Object(i.b)((function(e){return{loginUserId:e.auth}}),P)(Object(L.a)({validate:function(e){var t={};return e.userName||(t.userName="\u30e6\u30fc\u30b6\u30fc\u540d\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),e.password||(t.password="\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),t},form:"loginForm"})(T)),R=function(e){Object(F.a)(a,e);var t=Object(U.a)(a);function a(e){var n;return Object(x.a)(this,a),(n=t.call(this,e)).renderField=function(e){var t=e.input,a=e.type,n=e.id,o=e.className,s=e.placeholder,c=e.style,i=e.meta,l=i.touched,u=i.error;return r.a.createElement(r.a.Fragment,null,l&&u&&r.a.createElement("p",{style:{color:"red"}},u),r.a.createElement("input",Object.assign({type:a},t,{id:n,className:o,placeholder:s,style:c})))},n.onSubmit=n.onSubmit.bind(Object(S.a)(n)),n}return Object(I.a)(a,[{key:"onSubmit",value:function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.createNewRegistration(t);case 2:if(0!=this.props.registration){e.next=5;break}return e.next=5,this.props.history.push("/result");case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e={marginBottom:"10px"},t={color:"red"},a=this.props,n=a.handleSubmit,o=a.pristine,s=a.submitting,c=a.invalid;return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,null),r.a.createElement("form",{className:"form-signin",action:"Register",method:"POST",onSubmit:n(this.onSubmit)},r.a.createElement("h1",{className:"h3 mb-3 font-weight-normal"},"\u65b0\u898f\u767b\u9332"),1==this.props.registration?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{style:t},"\u3059\u3067\u306b\u767b\u9332\u6e08\u307f\u306e\u30e6\u30fc\u30b6\u30fc\u540d\u3067\u3059"),r.a.createElement("p",{style:t},"\u3059\u3067\u306b\u767b\u9332\u6e08\u307f\u306e\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3067\u3059")):"",2==this.props.registration?r.a.createElement("p",{style:t},"\u3059\u3067\u306b\u767b\u9332\u6e08\u307f\u306e\u30e6\u30fc\u30b6\u30fc\u540d\u3067\u3059"):"",3==this.props.registration?r.a.createElement("p",{style:t},"\u3059\u3067\u306b\u767b\u9332\u6e08\u307f\u306e\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3067\u3059"):"",4==this.props.registration?r.a.createElement("p",{style:t},"\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u4e00\u81f4\u3057\u3066\u3044\u307e\u305b\u3093"):"",r.a.createElement("label",{htmlFor:"inputName",className:"sr-only"},"\u30e6\u30fc\u30b6\u30fc\u540d"),r.a.createElement(M.a,{type:"text",id:"inputName",name:"name",className:"mb-10 form-control",placeholder:"\u30e6\u30fc\u30b6\u30fc\u540d(15\u5b57\u4ee5\u5185)",style:e,component:this.renderField}),r.a.createElement("label",{htmlFor:"inputEmail",className:"sr-only"},"Email"),r.a.createElement(M.a,{type:"text",id:"inputEmail",name:"email",className:"mb-10 form-control",placeholder:"Email",style:e,component:this.renderField}),r.a.createElement("label",{htmlFor:"inputPassword",className:"sr-only"},"\u30d1\u30b9\u30ef\u30fc\u30c9"),r.a.createElement(M.a,{type:"password",id:"inputPassword",name:"password",className:"mb-10 form-control",style:e,placeholder:"\u30d1\u30b9\u30ef\u30fc\u30c9",component:this.renderField}),r.a.createElement("label",{htmlFor:"inputPasswordConfirmation",className:"sr-only"},"\u30d1\u30b9\u30ef\u30fc\u30c9(\u78ba\u8a8d\u7528)"),r.a.createElement(M.a,{type:"password",id:"inputPasswordConfirmation",name:"passwordConfirmation",className:"mb-10 form-control",style:e,placeholder:"\u30d1\u30b9\u30ef\u30fc\u30c9(\u78ba\u8a8d\u7528)",component:this.renderField}),r.a.createElement("div",{className:"checkbox mb-3"}),r.a.createElement("button",{className:"btn btn-lg btn-success btn-block",type:"submit",disabled:o||s||c},"\u767b\u9332"),r.a.createElement("p",{className:"mt-5 mb-3 text-muted"},"\xa9 2020")))}}]),a}(n.Component),_={createNewRegistration:function(e){return function(){var t=Object(h.a)(d.a.mark((function t(a){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new URLSearchParams).append("name",e.name),n.append("email",e.email),n.append("password",e.password),n.append("passwordConfirmation",e.passwordConfirmation),t.next=7,f()("/Register",{mode:"cors",method:"POST",body:n}).then((function(e){return e.json()}));case 7:r=t.sent,a({type:"CREATE_REGISTRATION",response:r});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},A=Object(i.b)((function(e){return{registration:e.registration}}),_)(Object(L.a)({validate:function(e){var t,a,n,r={};return e.name||(r.name="\u30e6\u30fc\u30b6\u30fc\u540d\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),e.name&&(r.name=(t=e.name,a=15,n="15\u6587\u5b57\u4ee5\u4e0b\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044",t&&t.length>a?n:void 0)),e.email||(r.email="\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),e.email&&(r.email=function(e,t){return function(e,t,a){return e&&!e.match(t)?a:void 0}(e,/^[\w+\-.]+@[a-z\d\-.]+\.[a-z]+$/i,t)}(e.email,"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u304c\u4e0d\u6b63\u3067\u3059")),e.password||(r.password="\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),e.passwordConfirmation||(r.passwordConfirmation="\u518d\u5ea6\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"),r},form:"registrationForm"})(R)),D=function(e){Object(F.a)(a,e);var t=Object(U.a)(a);function a(e){var n;return Object(x.a)(this,a),(n=t.call(this,e)).onSubmit=n.onSubmit.bind(Object(S.a)(n)),n.logout=n.logout.bind(Object(S.a)(n)),n}return Object(I.a)(a,[{key:"onSubmit",value:function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.postSearch(t);case 2:return e.next=4,this.props.history.push("/search");case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.postLogout(this.props.loginUserId);case 2:return e.next=4,this.props.history.push("/login");case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"renderField",value:function(e){var t=e.input,a=e.type;return r.a.createElement("input",Object.assign({className:"form-control mr-sm-2",type:a,placeholder:"Search"},t))}},{key:"render",value:function(){var e=this.props.handleSubmit,t=this.props.loginUserId;return r.a.createElement("header",null,r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark fixed-top bg-dark"},0!=t?r.a.createElement("form",{role:"form",id:"logout",action:"/logout",method:"post",onSubmit:e(this.logout)},r.a.createElement("button",{type:"submit",className:"navbar-brand"},"\u30ed\u30b0\u30a2\u30a6\u30c8")):"",0==t?r.a.createElement(N.b,{to:"/login",id:"login"},r.a.createElement("button",{type:"submit",className:"navbar-brand"},"\u30ed\u30b0\u30a4\u30f3")):"",r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarsExampleDefault","aria-controls":"navbarsExampleDefault","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarsExampleDefault"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement(N.b,{to:"/index",className:"nav-link"},"\u30db\u30fc\u30e0 ",r.a.createElement("span",{className:"sr-only"},"(current)"))),r.a.createElement("li",{className:"nav-item"},0!=t?r.a.createElement(N.b,{to:"/upload",className:"nav-link"},"\u6295\u7a3f"):""),r.a.createElement("li",{className:"nav-item"},0!=t?r.a.createElement(N.b,{to:"/user/".concat(t),className:"nav-link"},"\u30de\u30a4\u30da\u30fc\u30b8"):"")),r.a.createElement("form",{className:"form-inline my-2 my-lg-0",onSubmit:e(this.onSubmit)},r.a.createElement(M.a,{name:"searchWord",id:"searchForm",type:"text",component:this.renderField}),r.a.createElement("button",{className:"btn btn-outline-success my-2 my-sm-0",type:"submit"},"Search")))))}}]),a}(n.Component),J={postSearch:function(e){return function(){var t=Object(h.a)(d.a.mark((function t(a){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new URLSearchParams).append("searchWord",e.searchWord),t.next=4,f()("".concat("/KdiJ362","/search"),{mode:"cors",method:"POST",body:n}).then((function(e){return e.json()}));case 4:r=t.sent,a({type:"SEARCH_MOVIE",response:r});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},postLogout:function(){return function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f()("".concat("/KdiJ362","/logout"),{mode:"cors",method:"POST"});case 2:0,t({type:"LOGOUT",response:0});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},W=Object(j.g)(Object(i.b)((function(e){return{loginUserId:e.auth}}),J)(Object(L.a)({form:"searchForm"})(D))),K=a(103),V=a.n(K),G=(a(237),a(238),function(e){var t={dots:!0,infinite:!0,speed:500,slidesToScroll:1};return r.a.createElement(V.a,t,function(e){return m.a.map(e.value,(function(e,t){return r.a.createElement(r.a.Fragment,{key:"top5Views".concat(t)},r.a.createElement("li",{style:{marginTop:"60px"}},r.a.createElement("span",{style:{fontSize:"50px",fontWeight:"bold",marginLeft:"50px"}},"NO.".concat(t+1)),r.a.createElement(N.b,{to:"/video/".concat(e[0]),className:"loopLink"},r.a.createElement("img",{src:e[1],height:"225px",width:"600px"}))))}))}(e))}),$=function(e){Object(F.a)(a,e);var t=Object(U.a)(a);function a(e){var n;return Object(x.a)(this,a),(n=t.call(this,e)).onSubmit=n.onSubmit.bind(Object(S.a)(n)),n.state={youtubeLogo:null},n}return Object(I.a)(a,[{key:"componentDidMount",value:function(){this.props.readMovieIndex(this.props.loginUserId)}},{key:"componentDidUpdate",value:function(e){this.props.movies[0]!=e.movies[0]&&this.props.readMovieIndex(this.props.loginUserId)}},{key:"onSubmit",value:function(){var e=Object(h.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=[]).push(t),a.push(this.props.loginUserId),e.next=5,this.props.deleteMovie(a);case 5:return e.next=7,this.props.history.push("/index");case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"renderField",value:function(e){var t=e.input,a=e.type,n=e.value;return r.a.createElement("input",Object.assign({},t,{type:a,value:n}))}},{key:"onMouseEnter",value:function(e){document.getElementById("imgSrc_".concat(e)).style.opacity="0.8",this.setState({youtubeLogo:e})}},{key:"onMouseLeave",value:function(e){document.getElementById("imgSrc_".concat(e)).style.opacity="1.0",this.setState({youtubeLogo:null})}},{key:"renderMovie",value:function(){var e=this,t=this.props,a=t.loginUserId,n=t.handleSubmit,o=m.a.map(t.movies[0],(function(t,o){var s={paddingTop:"15px",paddingBottom:"15px"};return r.a.createElement(r.a.Fragment,{key:"movieList".concat(o)},r.a.createElement("div",{style:s},r.a.createElement(N.b,{to:"/video/".concat(t.id),className:"movieLink jsMovie2",id:o},r.a.createElement("div",{className:"thumbnailBox",id:"imgSrc_".concat(o),onMouseEnter:function(){return e.onMouseEnter(o)},onMouseLeave:function(){return e.onMouseLeave(o)}},r.a.createElement("img",{src:t.image.image,height:"150px",width:"300px",className:"movieIndex",id:"hoverChange"}),e.state.youtubeLogo==o?r.a.createElement("i",{className:"fab fa-youtube"}):""),r.a.createElement("div",{className:"movieTitle"},t.title)),r.a.createElement("div",{className:"indexInfo"},r.a.createElement("div",null,r.a.createElement(N.b,{to:"/user/".concat(t.userId),className:"postUserName",style:s},r.a.createElement("img",{src:t.user.avatar,className:"upAvatar",height:"50px",width:"50px"}),r.a.createElement("span",{id:"postUser"},"\u6295\u7a3f\u8005:",t.user.name))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"views"},"\u518d\u751f\u56de\u6570:"),r.a.createElement("span",{id:"views"},"".concat(t.views,"\u56de")))),a==t.userId&&r.a.createElement("form",{onSubmit:n((function(){return e.onSubmit(t.id)}))},r.a.createElement("input",{type:"hidden",name:"movieId",value:t.id}),r.a.createElement("input",{type:"submit",value:"\u524a\u9664",className:"deleteBtn"}))))}));return r.a.createElement("main",{role:"main",className:"mainBackground"},r.a.createElement("div",{id:"loopSlide"},r.a.createElement("ul",{className:"jsMovie1"},r.a.createElement(G,{value:this.props.movies[1]}))),r.a.createElement("div",{className:"images"},r.a.createElement("div",{className:"image"},o)))}},{key:"render",value:function(){return console.log(this.props.movies),r.a.createElement(r.a.Fragment,null,r.a.createElement(W,null),this.renderMovie())}}]),a}(n.Component),q={readMovieIndex:function(e){return function(){var t=Object(h.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("test"),t.next=3,f()("".concat("/KdiJ362","/index?loginUserId=").concat(e),{mode:"cors"}).then((function(e){return e.json()}));case 3:n=t.sent,console.log(n),a({type:"READ_MOVIE_INDEX",response:n});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},deleteMovie:E},H=Object(i.b)((function(e){return{movies:e.movies,loginUserId:e.auth}}),q)(Object(L.a)({form:"deleteMovieForm"})($)),z=function(e){Object(F.a)(a,e);var t=Object(U.a)(a);function a(e){var n;return Object(x.a)(this,a),(n=t.call(this,e)).state={imageSrc:null,movieSrc:null},n.handleChangeFile1=n.handleChangeFile1.bind(Object(S.a)(n)),n.handleChangeFile2=n.handleChangeFile2.bind(Object(S.a)(n)),n.onSubmit=n.onSubmit.bind(Object(S.a)(n)),n}return Object(I.a)(a,[{key:"handleChangeFile1",value:function(e){var t=((window.URL||window.webkitURL).createObjectURL||window.createObjectURL)(e.target.files[0]);this.setState({imageSrc:t})}},{key:"handleChangeFile2",value:function(e){document.getElementById("uploadSubmitBtn").disabled=!1;var t=((window.URL||window.webkitURL).createObjectURL||window.createObjectURL)(e.target.files[0]);this.setState({movieSrc:t})}},{key:"onSubmit",value:function(){var e=Object(h.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(a={}).thumbnail=document.getElementById("upfile2").files[0]?document.getElementById("upfile2").files[0]:document.getElementById("upfile").files[0],a.movie=document.getElementById("upfile").files[0],a.title=document.getElementById("upfileTitle").value,a.id=document.getElementById("upfileId").value,e.next=8,this.props.postMovie(a);case 8:return e.next=10,this.props.history.push("/index");case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.loginUserId,t={display:"block",width:"500px"};return r.a.createElement(r.a.Fragment,null,r.a.createElement(W,null),r.a.createElement("form",{encType:"multipart/form-data",className:"uploadForm",onSubmit:this.onSubmit},r.a.createElement("div",{className:"previewBox"},r.a.createElement("div",{id:"preview"},this.state.imageSrc?r.a.createElement("img",{id:"thumbnail_${index}",src:this.state.imageSrc,className:"thumbnail",controls:!0}):""),r.a.createElement("div",{id:"preview2"},this.state.movieSrc?r.a.createElement("video",{id:"movie_${index}",src:this.state.movieSrc,className:"movie",controls:!0}):"")),r.a.createElement("div",{className:"uploadFlex"},r.a.createElement("div",{className:"uploadFlex2"},r.a.createElement("label",{htmlFor:"upfile2",className:"uploadBox"},r.a.createElement("input",{type:"file",name:"thumbnail",id:"upfile2",accept:"image/*",capture:"camera",onChange:this.handleChangeFile1}),r.a.createElement("div",{className:"uploadParts"},r.a.createElement("span",null,"\u30b5\u30e0\u30cd\u30a4\u30eb")),r.a.createElement("i",{className:"far fa-image"})),r.a.createElement("label",{htmlFor:"upfile",className:"uploadBox"},r.a.createElement("input",{type:"file",name:"movie",id:"upfile",accept:"video/*",capture:"camera",onChange:this.handleChangeFile2}),r.a.createElement("div",{className:"uploadParts"},r.a.createElement("span",null,"\u52d5\u753b")),r.a.createElement("i",{className:"fas fa-video"}))),r.a.createElement("div",{className:"uploadTitle"},r.a.createElement("span",{style:t},"\u30bf\u30a4\u30c8\u30eb:"),r.a.createElement("input",{type:"text",name:"title",id:"upfileTitle",placeholder:"\uff11\u301c\uff15\uff10\u5b57\u4ee5\u5185",style:t,required:!0})),r.a.createElement("div",{className:"uploadId"},r.a.createElement("input",{type:"hidden",name:"loginUserId",id:"upfileId",value:e})),r.a.createElement("br",null)," ",r.a.createElement("input",{className:"uploadSubmit",id:"uploadSubmitBtn",type:"submit",value:"\u9001\u4fe1\u3059\u308b",disabled:!0}))))}}]),a}(n.Component),X={postMovie:function(e){return function(){var t=Object(h.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).append("thumbnail",e.thumbnail),n.append("movie",e.movie),n.append("title",e.title),n.append("loginUserId",e.id),t.next=7,f()("".concat("/KdiJ362","/upload"),{mode:"cors",method:"POST",body:n});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},Q=Object(i.b)((function(e){return{loginUserId:e.auth}}),X)(Object(L.a)({form:"uploadForm"})(z)),Y=function(e){Object(F.a)(a,e);var t=Object(U.a)(a);function a(e){var n;return Object(x.a)(this,a),(n=t.call(this,e)).handleAccessMyPage=n.handleAccessMyPage.bind(Object(S.a)(n)),n.handleAccessOtherUserPage=n.handleAccessOtherUserPage.bind(Object(S.a)(n)),n.follow=n.follow.bind(Object(S.a)(n)),n.unfollow=n.unfollow.bind(Object(S.a)(n)),n.onSubmit=n.onSubmit.bind(Object(S.a)(n)),n.onChange=n.onChange.bind(Object(S.a)(n)),n}return Object(I.a)(a,[{key:"follow",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t={}).userId=this.props.user[2].id,t.loginUserId=this.props.loginUserId,e.next=5,this.props.postFollow(t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"unfollow",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t={}).userId=this.props.user[2].id,t.loginUserId=this.props.loginUserId,e.next=5,this.props.postUnfollow(t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t={}).avatar=document.getElementById("upAvatar").files[0],t.id=this.props.user[2].id,e.next=5,this.props.postProfile(t);case 5:return e.next=7,this.props.history.push("/user/".concat(this.props.user[2].id));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChange",value:function(){var e=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById("avatarUpdateBtn").disabled=!1;case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"handleAccessMyPage",value:function(){var e,t=this.props.user,a=this.props.loginUserId,n=t[2]?t[2].id:"",o=this.props.handleSubmit;if(n==a)return r.a.createElement("div",null,r.a.createElement("form",{encType:"multipart/form-data",onSubmit:o(this.onSubmit)},r.a.createElement("label",{htmlFor:"upAvatar",className:"upAvatarBox"},r.a.createElement("img",(e={src:""},Object(g.a)(e,"src",t[2]?t[2].avatar:""),Object(g.a)(e,"alt",""),Object(g.a)(e,"className","upAvatar"),Object(g.a)(e,"height","200px"),Object(g.a)(e,"width","200px"),e)),r.a.createElement("input",{type:"file",id:"upAvatar",style:{display:"none"},name:"avatar",accept:"image/*",onChange:this.onChange})),r.a.createElement("input",{type:"submit",value:"\u66f4\u65b0",className:"deleteBtn",id:"avatarUpdateBtn",disabled:!0})))}},{key:"handleAccessOtherUserPage",value:function(){var e,t=this.props.user,a=this.props.loginUserId,n=t[2]?t[2].id:"",o=this.props.handleSubmit;if(n!=a)return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"upAvatar",className:"upAvatarBox"},r.a.createElement("img",(e={src:""},Object(g.a)(e,"src",t[2]?t[2].avatar:""),Object(g.a)(e,"alt",""),Object(g.a)(e,"className","upAvatar"),Object(g.a)(e,"height","200px"),Object(g.a)(e,"width","200px"),e))),0!=a?r.a.createElement("div",{className:"followBox"},0==t[3]?r.a.createElement("button",{className:"followBtn",onClick:o(this.follow)}," \u30d5\u30a9\u30ed\u30fc\u3059\u308b "):"",1==t[3]?r.a.createElement("button",{className:"followedBtn",onClick:o(this.unfollow)}," \u30d5\u30a9\u30ed\u30fc\u4e2d "):""):"")}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.handleAccessMyPage(),this.handleAccessOtherUserPage())}}]),a}(n.Component),Z={postProfile:function(e){return function(){var t=Object(h.a)(d.a.mark((function t(a){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).append("avatar",e.avatar),t.next=4,f()("".concat("/KdiJ362","/user/").concat(e.id),{mode:"cors",method:"POST",body:n});case 4:r=t.sent,a({type:"POST_PROFILE",response:r});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},postFollow:function(e){return function(){var t=Object(h.a)(d.a.mark((function t(a){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new URLSearchParams).append("loginUserId",e.loginUserId),t.next=4,f()("".concat("/KdiJ362","/follow/").concat(e.userId),{mode:"cors",method:"POST",body:n}).then((function(e){return e.json()}));case 4:r=t.sent,a({type:"POST_FOLLOW",response:r});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},postUnfollow:function(e){return function(){var t=Object(h.a)(d.a.mark((function t(a){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new URLSearchParams).append("loginUserId",e.loginUserId),t.next=4,f()("".concat("/KdiJ362","/followed/").concat(e.userId),{mode:"cors",method:"POST",body:n}).then((function(e){return e.json()}));case 4:r=t.sent,a({type:"POST_UNFOLLOW",response:r});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},ee=Object(j.g)(Object(i.b)((function(e){return{user:e.user,loginUserId:e.auth}}),Z)(Object(L.a)({form:"profileForm"})(Y))),te=function(e){Object(F.a)(a,e);var t=Object(U.a)(a);function a(e){var n;return Object(x.a)(this,a),(n=t.call(this,e)).handleCloseModalToTrue=function(){return n.setState({clickCloseModal:!0})},n.handleCloseModalToFalse=function(){return n.setState({clickCloseModal:!1})},n.state={clickCloseModal:!1},n.click=n.click.bind(Object(S.a)(n)),n}return Object(I.a)(a,[{key:"click",value:function(){this.handleCloseModalToTrue(),this.props.onClick()}},{key:"renderFollowingUser",value:function(){var e=this,t=this.props,a=m.a.map(t.user[6],(function(t,a){return r.a.createElement("div",{className:"followUserBox",key:"followingUser".concat(a)},r.a.createElement(N.b,{to:"/user/".concat(t.id),className:"followEach",onClick:e.click},r.a.createElement("img",{src:t.avatar,className:"followAvatar"}),r.a.createElement("span",{className:"followName"},t.name)))}));return r.a.createElement(r.a.Fragment,null,a)}},{key:"render",value:function(){return 0==this.state.clickCloseModal?r.a.createElement("div",{fragment:"following",className:"modalBackground",id:"followingModal"},r.a.createElement("div",{className:"modal"},this.renderFollowingUser(),r.a.createElement("i",{className:"fas fa-times closeModal",onClick:this.click}))):r.a.createElement(r.a.Fragment,null,this.handleCloseModalToFalse)}}]),a}(n.Component),ae={readUser:b},ne=Object(i.b)((function(e){return{user:e.user}}),ae)(te),re=function(e){Object(F.a)(a,e);var t=Object(U.a)(a);function a(e){var n;return Object(x.a)(this,a),(n=t.call(this,e)).handleCloseModalToTrue=function(){return n.setState({clickCloseModal:!0})},n.handleCloseModalToFalse=function(){return n.setState({clickCloseModal:!1})},n.state={clickCloseModal:!1},n.handleCloseModalToFalse=n.handleCloseModalToFalse.bind(Object(S.a)(n)),n.click=n.click.bind(Object(S.a)(n)),n}return Object(I.a)(a,[{key:"click",value:function(){this.handleCloseModalToTrue(),this.props.onClick()}},{key:"renderFollowerUser",value:function(){var e=this,t=this.props,a=m.a.map(t.user[7],(function(t,a){return r.a.createElement("div",{className:"followUserBox",key:"followerUser".concat(a)},r.a.createElement(N.b,{to:"/user/".concat(t.id),className:"followEach",onClick:e.click},r.a.createElement("img",{src:t.avatar,className:"followAvatar"}),r.a.createElement("span",{className:"followName"},t.name)))}));return r.a.createElement(r.a.Fragment,null,a)}},{key:"render",value:function(){return 0==this.state.clickCloseModal?r.a.createElement("div",{className:"modalBackground",id:"followerModal"},r.a.createElement("div",{className:"modal"},this.renderFollowerUser(),r.a.createElement("i",{className:"fas fa-times closeModal",onClick:this.click}))):r.a.createElement(r.a.Fragment,null,this.handleCloseModalToFalse)}}]),a}(n.Component),oe={readUser:b},se=Object(i.b)((function(e){return{user:e.user}}),oe)(re),ce=function(e){Object(F.a)(a,e);var t=Object(U.a)(a);function a(e){var n;return Object(x.a)(this,a),(n=t.call(this,e)).selectFollowing=function(){return n.setState({Component:ne})},n.selectFollower=function(){return n.setState({Component:se})},n.handleOnClick=function(){return n.setState({Component:null})},n.state={Component:null},n.selectFollowing=n.selectFollowing.bind(Object(S.a)(n)),n.selectFollower=n.selectFollower.bind(Object(S.a)(n)),n.handleOnClick=n.handleOnClick.bind(Object(S.a)(n)),n}return Object(I.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id,t=this.props.loginUserId;this.props.readUser(e,t)}},{key:"componentDidUpdate",value:function(e){if(this.props.user[2]==e.user[2]){var t=this.props.match.params.id,a=this.props.loginUserId;this.props.readUser(t,a)}}},{key:"renderUser",value:function(){var e=this,t=this.props,a=this.state.Component;return r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(a,{onClick:this.handleOnClick}),function(t){if(t[0])return r.a.createElement("div",{className:"userBox"},r.a.createElement(ee,null),r.a.createElement("div",{className:"boxParts userName"},t[2]?t[2].name:""),r.a.createElement("div",{className:"followInfoBox"},r.a.createElement("div",{className:"followInfo followingInfo",onClick:e.selectFollowing},"\u30d5\u30a9\u30ed\u30fc"),r.a.createElement("div",{className:"followInfo followerInfo",onClick:e.selectFollower},"\u30d5\u30a9\u30ed\u30ef\u30fc")),r.a.createElement("video",{src:t[0],height:"280px",width:"500px",controls:!0}),r.a.createElement("div",{className:"boxParts"},t[2]?t[2].title:""))}(t.user),function(t){if(""===t[0]&&t[2]&&null!=t[2].name)return r.a.createElement("div",{className:"userBox"},r.a.createElement(ee,null),r.a.createElement("div",{className:"boxParts userName"},t[2]?t[2].name:""),r.a.createElement("div",{className:"followInfoBox"},r.a.createElement("div",{className:"followInfo followingInfo",onClick:e.selectFollowing},"\u30d5\u30a9\u30ed\u30fc"),r.a.createElement("div",{className:"followInfo followerInfo",onClick:e.selectFollower},"\u30d5\u30a9\u30ed\u30ef\u30fc")))}(t.user),function(e){if(e[2]&&null==e[2].name)return r.a.createElement("div",null,r.a.createElement("div",{className:"noUser"},'"\u6307\u5b9a\u306e\u30e6\u30fc\u30b6\u30fc\u306f\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f"'))}(t.user))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(W,null),r.a.createElement("div",{style:{marginTop:"60px",backgroundColor:"#e9ecef",height:"92vh"}},this.renderUser()))}}]),a}(n.Component),ie={readUser:b},le=Object(i.b)((function(e){return{user:e.user,loginUserId:e.auth}}),ie)(ce),ue=function(e){Object(F.a)(a,e);var t=Object(U.a)(a);function a(e){var n;return Object(x.a)(this,a),(n=t.call(this,e)).state={youtubeLogo:null},n}return Object(I.a)(a,[{key:"onMouseEnter",value:function(e){document.getElementById("imgSrc2_".concat(e)).style.opacity="0.8",this.setState({youtubeLogo:e})}},{key:"onMouseLeave",value:function(e){document.getElementById("imgSrc2_".concat(e)).style.opacity="1.0",this.setState({youtubeLogo:null})}},{key:"renderSearch",value:function(){var e=this,t=this.props,a={display:"block"},n={paddingTop:"20px"},o={marginBottom:"30px"},s=m.a.map(t.search[0],(function(t,n){var s;return r.a.createElement("div",{key:"searchResult".concat(n),style:o},r.a.createElement(N.b,{to:"/video/".concat(t.id),className:"movieLink"},r.a.createElement("div",{className:"thumbnailBox",id:"imgSrc2_".concat(n),onMouseEnter:function(){return e.onMouseEnter(n)},onMouseLeave:function(){return e.onMouseLeave(n)}},r.a.createElement("img",{src:t.image.image,height:"150px",width:"300px",className:"movieIndex"}),e.state.youtubeLogo==n?r.a.createElement("i",{className:"fab fa-youtube"}):""),r.a.createElement("div",{text:t.title,className:"movieTitle"},t.title)),r.a.createElement("div",{className:"indexInfo"},r.a.createElement("div",null,r.a.createElement(N.b,{to:"/user/".concat(t.userId),className:"postUserName",style:a},r.a.createElement("img",(s={src:"",alt:""},Object(g.a)(s,"src",t.user.avatar),Object(g.a)(s,"className","upAvatar"),Object(g.a)(s,"height","50px"),Object(g.a)(s,"width","50px"),s)),r.a.createElement("span",{id:"postUser",text:t.user.name},"\u6295\u7a3f\u8005:",t.user.name))),r.a.createElement("div",null,r.a.createElement("span",{id:"views",text:"".concat(t.views,"\u56de")},"\u518d\u751f\u56de\u6570:",t.views,"\u56de"))))}));return r.a.createElement(r.a.Fragment,null,0==t.search[1]?r.a.createElement("div",{className:"noMovie",style:n},"\u6307\u5b9a\u306e\u52d5\u753b\u306f\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f"):"",r.a.createElement("div",{className:"images",style:n},r.a.createElement("div",{each:"movie, movieStat:${searchResultList}",className:"image"},s)))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(W,null),r.a.createElement("div",{className:"mainBackground",style:{marginTop:"60px",minHeight:"95vh"}},this.renderSearch()))}}]),a}(n.Component),me=Object(i.b)((function(e){return{search:e.search}}),null)(ue),pe=function(e){Object(F.a)(a,e);var t=Object(U.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(I.a)(a,[{key:"onSubmit",value:function(){var e=Object(h.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a={}).review=t,a.movieId=this.props.movie[1].id,a.loginUserId=this.props.loginUserId,e.next=6,this.props.postReview(a);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"renderReview",value:function(){var e=this,t=this.props,a=t.movie[1]?t.movie[1].id:"",n=t.movie[1]?t.movie[1].user.id:"",o=t.loginUserId,s=t.movie[2]?t.movie[2]:"",c=t.movie[3]?t.movie[3]:"",i={color:"#28a745"};return o==n||0==o?r.a.createElement("div",{className:"review"},r.a.createElement("div",{className:"reviewIcon"},r.a.createElement("i",{className:"far fa-grin-squint"}),r.a.createElement("span",{className:"reviewCount"},c.good)),r.a.createElement("div",{className:"reviewIcon"},r.a.createElement("i",{className:"far fa-smile"}),r.a.createElement("span",{className:"reviewCount"},c.normal)),r.a.createElement("div",{className:"reviewIcon"},r.a.createElement("i",{className:"far fa-sad-tear"}),r.a.createElement("span",{className:"reviewCount"},c.bad))):o!=a&&0!=o?r.a.createElement("div",{className:"review"},"good"==s?r.a.createElement("div",{className:"reviewIcon reviewLink link1 ajax_btn1",style:i},r.a.createElement("i",{className:"far fa-grin-squint"}),r.a.createElement("span",{className:"reviewCount1"},c.good)):r.a.createElement("div",{name:"formName1",onClick:function(){return e.onSubmit("good")}},r.a.createElement("a",{className:"reviewIcon reviewLink link1 ajax_btn1"},r.a.createElement("i",{className:"far fa-grin-squint"}),r.a.createElement("span",{className:"reviewCount1"},c.good))),"normal"==s?r.a.createElement("div",{className:"reviewIcon reviewLink link2 ajax_btn2",style:i},r.a.createElement("i",{className:"far fa-smile"}),r.a.createElement("span",{className:"reviewCount2"},c.normal)):r.a.createElement("div",{name:"formName2",onClick:function(){return e.onSubmit("normal")}},r.a.createElement("a",{className:"reviewIcon reviewLink link2 ajax_btn2"},r.a.createElement("i",{className:"far fa-smile"}),r.a.createElement("span",{className:"reviewCount2"},c.normal))),"bad"==s?r.a.createElement("div",{if:"${matchReview.equals('bad')}",className:"reviewIcon reviewLink link3 ajax_btn3",style:i},r.a.createElement("i",{className:"far fa-sad-tear"}),r.a.createElement("span",{className:"reviewCount3"},c.bad)):r.a.createElement("div",{name:"formName3",onClick:function(){return e.onSubmit("bad")}},r.a.createElement("a",{className:"reviewIcon reviewLink link3 ajax_btn3"},r.a.createElement("i",{className:"far fa-sad-tear"}),r.a.createElement("span",{className:"reviewCount3"},c.bad)))):void 0}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.renderReview())}}]),a}(n.Component),de={postReview:function(e){return function(){var t=Object(h.a)(d.a.mark((function t(a){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new URLSearchParams).append("review",e.review),n.append("loginUserId",e.loginUserId),t.next=5,f()("".concat("/KdiJ362","/review/").concat(e.movieId),{mode:"cors",method:"POST",body:n}).then((function(e){return e.json()}));case 5:r=t.sent,a({type:"POST_REVIEW",response:r});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},he=Object(j.g)(Object(i.b)((function(e){return{movie:e.movie,loginUserId:e.auth}}),de)(Object(L.a)({form:"reviewForm"})(pe))),ve=function(e){Object(F.a)(a,e);var t=Object(U.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(I.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id,t=this.props.loginUserId;this.props.readMovieDetail(e,t)}},{key:"onSubmit",value:function(){var e=Object(h.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=[]).push(t),a.push(this.props.loginUserId),e.next=5,this.props.deleteMovie(a);case 5:return e.next=7,this.props.history.push("/index");case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"renderDetail",value:function(){var e=this,t=this.props,a=t.movie[1]?t.movie[1].id:"",n=t.movie[1]?t.movie[1].user.name:"",o=t.movie[1]?t.movie[1].user.avatar:"",s=t.movie[1]?t.movie[1].user.id:"",c=t.movie[1]?t.movie[1].views:"",i=t.loginUserId,l=t.handleSubmit;return r.a.createElement("div",{role:"main",className:"mainBackground",style:{marginTop:"60px",height:"92vh"}},r.a.createElement("div",{className:"detail"},r.a.createElement("video",{src:t.movie[0],height:"500px",width:"100%",className:"movieDetail",controls:!0}),r.a.createElement("div",{className:"detailInfo"},r.a.createElement("div",null,r.a.createElement(N.b,{to:"/user/".concat(s),className:"postUserName",style:{display:"block"}},r.a.createElement("img",{src:o,className:"upAvatar",height:"50px",width:"50px"}),r.a.createElement("span",{id:"postUser"},"\u6295\u7a3f\u8005: ",n))),r.a.createElement("div",null,r.a.createElement("span",{id:"views"},"\u518d\u751f\u56de\u6570: ".concat(c,"\u56de"))),r.a.createElement(he,null)),i==s&&r.a.createElement("form",{onSubmit:l((function(){return e.onSubmit(a)}))},r.a.createElement("input",{type:"hidden",name:"movieId",value:a}),r.a.createElement("input",{type:"submit",value:"\u524a\u9664",className:"deleteBtn"}))))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(W,null),this.renderDetail())}}]),a}(n.Component),fe={readMovieDetail:function(e,t){return function(){var a=Object(h.a)(d.a.mark((function a(n){var r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f()("".concat("/KdiJ362","/video/").concat(e,"?loginUserId=").concat(t),{mode:"cors"}).then((function(e){return e.json()}));case 2:r=a.sent,n({type:"READ_MOVIE_DETAIL",response:r});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},deleteMovie:E},be=Object(i.b)((function(e){return{movie:e.movie,loginUserId:e.auth}}),fe)(Object(L.a)({form:"deleteMovieForm2"})(ve)),Ee=function(e){Object(F.a)(a,e);var t=Object(U.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(I.a)(a,[{key:"render",value:function(){return this.props.loginUserId?this.props.children:r.a.createElement(j.a,{to:"/login"})}}]),a}(n.Component),ge=Object(i.b)((function(e){return{loginUserId:e.auth}}),null)(Ee),ye=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(W,null),r.a.createElement("div",{className:"resultBox"},r.a.createElement("p",{className:"success"},"\u4f1a\u54e1\u767b\u9332\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002"),r.a.createElement(N.b,{to:"/login",className:"goBackLogin"},"\u30ed\u30b0\u30a4\u30f3\u753b\u9762\u3078")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var we=Object(c.d)(O,Object(c.a)(l.a));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:we},r.a.createElement(N.a,null,r.a.createElement(j.d,null,r.a.createElement(j.b,{exact:!0,path:"/",component:k}),r.a.createElement(j.b,{exact:!0,path:"/top",component:k}),r.a.createElement(j.b,{path:"/index",component:H}),r.a.createElement(j.b,{path:"/login",component:B}),r.a.createElement(j.b,{path:"/RegistrationForm",component:A}),r.a.createElement(j.b,{path:"/user/:id",component:le}),r.a.createElement(j.b,{path:"/search",component:me}),r.a.createElement(j.b,{path:"/video/:id",component:be}),r.a.createElement(j.b,{path:"/result",component:ye}),r.a.createElement(ge,null,r.a.createElement(j.b,{path:"/upload",component:Q})))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[104,1,2]]]);
//# sourceMappingURL=main.7b1dd86c.chunk.js.map